@model CIAB.Models.User


@{
    ViewBag.Title = "Login/Registeration";
    Layout = "~/Views/_LayoutCIAB.cshtml";

}


<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>


@*<script type="text/javascript">

    $(document).ready(function () {
        

        $("#UserName").blur(function () {
            var txtUserNameValue = $("#UserName").val();
           

            $.ajax({
                url: '/Home/ValidateUserName',
                data: JSON.stringify({ UserName: txtUserNameValue }),
                dataType: "json",
                type: "POST",
                contentType: 'application/json; charset=utf-8',
                async: true,
                processData: false,
                cache: false,
                success: function (data) {
                    //alert(data);
                },
                error: function (xhr) {
                    alert('error');
                }
            });
        });
    });
</script>*@


<div id="about_top">
    <div class="container">
        <div class="row signup_login">
            <div class="col-md-6 signup_left">

                <div class="header_wrap">
                    <h3>New <span>User?</span></h3>
                    <p>Enter your account information below</p>
                </div>


                <!-- Register Form Starts Here-->
                @using (Html.BeginForm("Register", "Home", FormMethod.Post))
                {
                    @Html.AntiForgeryToken()
                    @Html.ValidationSummary(true)


                    <div class="form-group">
                        <label for="">Full Name <span class="req">*</span></label>
                        @*<input type="text" class="form-control" id="FullName" name="FullName" placeholder="Your name will be public" required>*@
                        @Html.TextBoxFor(x => x.FullName, new { @class="form-control" })
                        @Html.ValidationMessageFor(m => m.FullName)
                    </div>


                    <div class="form-group">
                        <label for="">Username <span class="req">*</span></label>
                        @*<input type="text"  class="form-control" id="UserName" required name="UserName" placeholder="Enter your username">*@
                        @Html.TextBoxFor(x => x.UserName, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => m.UserName)
                        @Html.ValidationMessage("UserNameExists")
                        @if (ViewBag.UserNameExists != null)
                        {
                              <span style="color:red">@ViewBag.UserNameExists</span>
                        }


                    </div>


                    <div class="form-group">
                        <label for="">Email <span class="req">*</span></label>
                        @*<input type="email" class="form-control" id="RegisterationEmail" name="RegisterationEmail" required placeholder="Enter your email">*@
                        @Html.TextBoxFor(x => x.RegisterationEmail, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => m.RegisterationEmail)
                       
                    </div>


                    <div class="form-group">
                        <label for="exampleInputPassword1">Password <span class="req">*</span></label>
                        @Html.PasswordFor(p => p.Password, new { @class = "form-control" })
                        @*<input type="password" class="form-control" id="Password" name="Password" required placeholder="Password">*@
                        <span id="helpBlock" class="help-block">5 characters minimum, no spaces, no special characters</span>
                        @Html.ValidationMessageFor(m => m.Password)
                    </div>


                    <div class="form-group">
                        <label for="Password">Confirm Password <span class="req">*</span></label>
                        @Html.PasswordFor(p => p.ConfirmPassword, new { @class = "form-control" })
                        @*<input type="password" class="form-control" id="ConfirmPassword" name="ConfirmPassword" required placeholder="Password">*@
                        @Html.ValidationMessageFor(m => m.ConfirmPassword)
                    </div>



                    <button type="submit" class="btn btn-default btn-block btn-cta">Create My Account!</button>
                    <span id="helpBlock" class="help-block" style="text-align:center;font-size:12px;">By clicking "Create My Account", you're agreeing to the Term of Use &amp; Privacy Policy</span>
                }
                <!--Register Form Ends Here-->
            </div><!-- /about_header -->
            <div class="col-md-6 login_right">


                <div class="header_wrap">
                    <h3>Returning <span>User?</span></h3>
                    <p>Already a member? Enter your details below to login</p>
                </div>

                @using (Html.BeginForm("Login", "Home", FormMethod.Post))
                {
                    @Html.AntiForgeryToken()
                    @Html.ValidationSummary(true)




                    <div class="form-group">
                        <label for="exampleInputEmail1">Username</label>
                        <input type="text" class="form-control" id="LoginUserName" name="LoginUserName" placeholder="Type your username" required>
                        @Html.ValidationMessage("LoginUserName")
                    </div>




                    <div class="form-group">
                        <label for="exampleInputPassword1">Password</label>
                        <input type="password" class="form-control" id="LoginPassword" name="LoginPassword" placeholder="Password" required>
                        @Html.ValidationMessage("LoginPassword")
                        @Html.ValidationMessage("LoginError")
                    </div>



                    <div class="form-group">
                        <small>
                        <a href="@Url.Action("RequestPasswordReset", "ForgotPassword")" onclick='location.href=this.getAttribute("href")'>Forgot Password</a>
                        </small>
                    </div>


                    <button type="submit" class="btn btn-default btn-block btn-success">Login Now!</button>
                }
            </div>
        </div>
    </div>
</div>

